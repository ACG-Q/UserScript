<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Script Detail</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header>
      <h1>Script Detail</h1>
      <button id="backButton" class="back-button">← Back</button>
    </header>

    <main id="detailContent">
      <h2 id="detailTitle">文件蜈蚣 显示今日激活码</h2>

      
        <p><strong>namespace:</strong> showActiveCode</p>
      
        <p><strong>match:</strong> *://filecxx.com/zh_CN/activation_code.html*</p>
      
        <p><strong>grant:</strong> none</p>
      
        <p><strong>version:</strong> 1.3</p>
      
        <p><strong>author:</strong> 六记</p>
      
        <p><strong>description:</strong> 显示今日有效的激活码，并提供复制功能</p>
      
        <p><strong>require:</strong> https://code.jquery.com/jquery-3.7.1.min.js</p>
      
        <p><strong>id:</strong> f68eb1c0-6fe4-446c-a968-497b8eafbbd6</p>
      
        <p><strong>filePath:</strong> scripts/显示今日激活码.user.js</p>
      
        <p><strong>downloadLink:</strong> https://raw.githubusercontent.com/ACG-Q/UserScript/main/scripts/显示今日激活码.user.js</p>
      

      <p><strong>content:</strong></p>
      <pre>// ==UserScript==
// @name         文件蜈蚣 显示今日激活码
// @namespace    showActiveCode
// @match        *://filecxx.com/zh_CN/activation_code.html*
// @grant        none
// @version      1.3
// @author       六记
// @description  显示今日有效的激活码，并提供复制功能
// @icon         https://filecxx.com/favicon.ico
// @require      https://code.jquery.com/jquery-3.7.1.min.js
// ==/UserScript==

(function () {
  &#34;use strict&#34;;

  async function copyToClipboard(text) {
    try {
      if (navigator.clipboard &amp;&amp; window.isSecureContext) {
        await navigator.clipboard.writeText(text);
        console.log(&#34;复制成功&#34;);
      } else {
        const textarea = document.createElement(&#34;textarea&#34;);
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand(&#34;copy&#34;);
        document.body.removeChild(textarea);
      }
      return true;
    } catch (err) {
      console.error(&#34;复制失败：&#34;, err);
      return false;
    }
  }

  function showCustomAlert(message, success = true) {
    const alertBox = $(&#34;&lt;div&gt;&#34;)
      .css({
        position: &#34;fixed&#34;,
        top: &#34;20px&#34;,
        right: &#34;20px&#34;,
        padding: &#34;10px 20px&#34;,
        background: success ? &#34;#44c767&#34; : &#34;#e74c3c&#34;,
        color: &#34;#fff&#34;,
        &#34;border-radius&#34;: &#34;5px&#34;,
        &#34;box-shadow&#34;: &#34;0px 0px 10px rgba(0, 0, 0, 0.1)&#34;,
        &#34;z-index&#34;: &#34;1000&#34;,
      })
      .text(message);

    $(&#34;body&#34;).append(alertBox);

    setTimeout(() =&gt; {
      alertBox.fadeOut(() =&gt; {
        $(this).remove();
      });
    }, 3000);
  }

  function showLoading() {
    const loadingBox = $(&#34;&lt;div&gt;&#34;)
      .css({
        position: &#34;fixed&#34;,
        top: &#34;50%&#34;,
        left: &#34;50%&#34;,
        transform: &#34;translate(-50%, -50%)&#34;,
        padding: &#34;10px 20px&#34;,
        background: &#34;#000&#34;,
        color: &#34;#fff&#34;,
        &#34;border-radius&#34;: &#34;5px&#34;,
        &#34;box-shadow&#34;: &#34;0px 0px 10px rgba(0, 0, 0, 0.5)&#34;,
        &#34;z-index&#34;: &#34;1050&#34;,
      })
      .text(&#34;加载中...&#34;);

    $(&#34;body&#34;).append(loadingBox);

    return loadingBox;
  }

  const loadingBox = showLoading();

  function hideLoading(loadingBox) {
    loadingBox.fadeOut(() =&gt; {
      loadingBox.remove();
    });
  }

  $(document).ready(async function () {
    const codeTimes = $(&#34;#code_list &gt; div.code_time&#34;);
    const codeTexts = $(&#34;#code_list &gt; div.code_text&#34;);

    codeTimes.each(function (i) {
      const startTime = $(this).text().split(&#34; - &#34;)[0];
      const endTime = $(this).text().split(&#34; - &#34;)[1];
      const startf = new Date(startTime) &lt;= new Date();
      const endf = new Date(endTime) &gt;= new Date();

      if (!startf || !endf) {
        $(this).hide();
        $(this).next(&#34;.code_text&#34;).hide();
        return;
      }

      const copyButton = $(&#34;&lt;button&gt;复制&lt;/button&gt;&#34;)
        .css({
          padding: &#34;5px 10px&#34;,
          &#34;font-size&#34;: &#34;14px&#34;,
          color: &#34;#fff&#34;,
          background: &#34;#007bff&#34;,
          border: &#34;none&#34;,
          &#34;border-radius&#34;: &#34;5px&#34;,
          cursor: &#34;pointer&#34;,
          &#34;margin-left&#34;: &#34;10px&#34;,
          transition: &#34;background 0.3s&#34;,
        })
        .hover(
          function () {
            $(this).css(&#34;background&#34;, &#34;#0056b3&#34;);
          },
          function () {
            $(this).css(&#34;background&#34;, &#34;#007bff&#34;);
          },
        )
        .click(async function () {
          const button = $(this);
          button.prop(&#34;disabled&#34;, true).text(&#34;复制中...&#34;);
          const success = await copyToClipboard(codeTexts.eq(i).text());
          if (success) {
            showCustomAlert(&#34;激活码已复制到剪贴板！&#34;);
          } else {
            showCustomAlert(&#34;复制失败，请重试！&#34;, false);
          }
          button.prop(&#34;disabled&#34;, false).text(&#34;复制&#34;);
        });

      $(this).append(copyButton);
    });

    // 所有操作完成后隐藏加载提示
    hideLoading(loadingBox);
  });
})(jQuery);
</pre>
    </main>
  </div>

  <script>
    // 返回首页
    document.getElementById('backButton').addEventListener('click', () => {
      window.history.back();
    });
  </script>
</body>
</html>